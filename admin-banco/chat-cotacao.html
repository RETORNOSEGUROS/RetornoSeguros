<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Chat da Cotação</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="js/firebase-config.js"></script>
  <script src="js/chat-cotacao.js" defer></script>
  <style>
    body { font-family: Arial; padding: 20px; background: #f4f4f4; }
    h2 { color: #004080; }
    .chat { background: white; border: 1px solid #ccc; padding: 10px; max-height: 300px; overflow-y: auto; margin-bottom: 10px; }
    .msg { margin-bottom: 8px; }
    .msg.admin { color: darkred; }
    .msg.gerente { color: #004080; }
    input, textarea, select { width: 100%; padding: 8px; margin: 5px 0; }
    button { padding: 10px 20px; background: #004080; color: white; border: none; border-radius: 4px; }
    .admin-box { background: #eef; padding: 10px; margin-top: 10px; }
  </style>
</head>
<body>

  <h2>Chat da Cotação</h2>

  <div id="infoCotacao"></div>

  <div class="chat" id="chatMensagens"></div>

  <textarea id="mensagem" placeholder="Digite uma mensagem..."></textarea>
  <button onclick="enviarMensagem()">Enviar</button>

  <div id="adminControls" class="admin-box" style="display:none;">
    <h3>Atualizar Cotação (Admin)</h3>
    <label>Status:</label>
    <select id="statusCotacao">
      <option value="nova">Nova</option>
      <option value="em_andamento">Em Andamento</option>
      <option value="pendente_cliente">Pendente Cliente</option>
      <option value="pendente_seguradora">Pendente Seguradora</option>
      <option value="apresentado">Apresentado</option>
      <option value="negado">Negado</option>
      <option value="fechado">Negócio Fechado</option>
    </select>

    <label>Valor (R$):</label>
    <input type="number" id="valorCotacao">

    <label>Vigência Final:</label>
    <input type="date" id="vigenciaFinal">

    <button onclick="atualizarCotacao()">Salvar Atualizações</button>
  </div>

</body>
</html>
