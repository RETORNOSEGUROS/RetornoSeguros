<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Atualização de dados de seguro (Cliente)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Firebase v8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <!-- seu firebase-config.js (chaves do projeto) -->
  <script src="js/firebase-config.js"></script>

  <!-- JS desta página -->
  <script defer src="visita-cliente.js"></script>

  <style>
    :root { --primary:#0b3b74; --primary-dark:#082c56; --ring:rgba(11,59,116,.15);
            --bg:#f3f4f6; --card:#fff; --muted:#6b7280; }
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial; margin:0; background:var(--bg); color:#111827; padding:16px;}
    .container{max-width:960px;margin:0 auto;background:var(--card);border:1px solid #eef2f7;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.06);overflow:hidden}
    .header{padding:20px 20px 0}
    h1{margin:0 0 6px;color:var(--primary);font-size:22px}
    .subtitle{margin:0 0 16px;color:var(--muted);font-size:14px}
    .content{padding:0 20px 20px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    @media (max-width: 720px){ .grid{grid-template-columns:1fr} body{padding:10px} .content{padding:0 14px 14px} .header{padding:14px 14px 0}}
    label{display:block;font-weight:700;margin:10px 0 6px}
    input,select,textarea{width:100%;padding:12px 14px;border:1px solid #e5e7eb;border-radius:10px;background:#fff;outline:none;font-size:14px;transition:border-color .15s,box-shadow .15s}
    input:focus,select:focus,textarea:focus{border-color:var(--primary);box-shadow:0 0 0 4px var(--ring)}
    .badge{display:inline-block;background:#eef2ff;border:1px solid #e0e7ff;color:#1e3a8a;border-radius:999px;padding:6px 10px;font-weight:700;font-size:12px}
    .section-title{margin:20px 0 4px;font-size:16px;font-weight:800;color:#0f172a}
    .section-hint{margin:0 0 10px;color:var(--muted);font-size:13px}
    .ramo-box{margin:12px 0;padding:14px;background:#fafbff;border:1px solid #eef2ff;border-radius:12px;border-left:4px solid var(--primary)}
    .ramo-box .head{display:flex;align-items:center;gap:10px;font-weight:700}
    .ramo-box input[type="checkbox"]{width:18px;height:18px;cursor:pointer}
    .subcampos{margin-top:12px;display:none}
    .actions{padding:0 20px 20px}
    .btn-primary{width:100%;padding:14px 18px;border-radius:12px;border:none;background:var(--primary);color:#fff;font-weight:800;font-size:16px;cursor:pointer;transition:transform .02s,background .15s}
    .btn-primary:hover{background:var(--primary-dark)}
    .btn-primary:active{transform:translateY(1px)}
    .ok{display:none;margin-top:8px;color:#065f46;font-weight:800}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Atualização de dados de seguro</h1>
      <p id="empresaInfo" class="subtitle"></p>
    </div>

    <div class="content">
      <div class="grid">
        <div>
          <label>Empresa</label>
          <div id="empresaNome" class="badge">Carregando...</div>
        </div>
        <div>
          <label>Tipo de visita</label>
          <input id="tipoVisita" value="Cliente" disabled />
          <label for="numFuncionarios" style="margin-top:12px;">Número de funcionários</label>
          <input id="numFuncionarios" type="number" min="0" step="1" placeholder="Ex.: 45">
        </div>
      </div>

      <h2 class="section-title">Mapeamento de Seguros</h2>
      <p class="section-hint">Marque os ramos que possui e preencha os campos. Vencimento em <strong>dd/mm/aaaa</strong>.</p>

      <div id="ramos-container"></div>
    </div>

    <div class="actions">
      <button class="btn-primary" onclick="enviar()">Enviar</button>
      <p id="ok" class="ok">Dados enviados. Obrigado!</p>
    </div>
  </div>
</body>
</html>
