<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard — Retorno Seguros</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- TailwindCSS (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: '#1b2c5c', // sua cor principal
          },
          boxShadow: {
            soft: '0 8px 24px rgba(2, 6, 23, .06)'
          },
          borderRadius: {
            '2xl':'1rem'
          }
        }
      }
    }
  </script>

  <!-- Firebase v8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="js/firebase-config.js"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="min-h-screen bg-slate-50 text-slate-800">
  <!-- HEADER -->
  <header class="sticky top-0 z-30 bg-brand text-white shadow-soft">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-4 py-3">
      <div class="text-lg font-bold">Retorno Seguros</div>
      <div class="flex items-center gap-3">
        <span id="perfilUsuario" class="text-slate-200 text-sm">...</span>
        <button id="btnMenu" class="lg:hidden rounded-lg bg-white/10 px-3 py-1.5 text-sm hover:bg-white/20">Menu</button>
      </div>
    </div>
  </header>

  <!-- WRAPPER -->
  <div class="max-w-7xl mx-auto grid grid-cols-12 gap-4 px-4 py-6">
    <!-- SIDEBAR -->
    <aside class="col-span-12 lg:col-span-3">
      <nav id="menuNav" class="rounded-2xl bg-white border border-slate-200 shadow-soft p-2 space-y-1"></nav>
    </aside>

    <!-- MAIN -->
    <main class="col-span-12 lg:col-span-9 space-y-4" id="appRoot">
      <!-- CARDS -->
      <section class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4">
        <div class="rounded-2xl bg-white border border-slate-200 shadow-soft p-4">
          <div class="text-slate-500 text-sm">Produção do mês</div>
          <div id="cardProducaoMes" class="text-2xl font-semibold mt-1">R$ 0,00</div>
          <div id="cardProducaoDelta" class="text-xs text-slate-500 mt-1">—</div>
        </div>

        <div class="rounded-2xl bg-white border border-slate-200 shadow-soft p-4">
          <div class="text-slate-500 text-sm">Vencimentos (próx. 30 dias)</div>
          <div id="cardVencimentos" class="text-2xl font-semibold mt-1">0</div>
          <div class="text-xs text-slate-500 mt-1">Apólices a renovar</div>
        </div>

        <div class="rounded-2xl bg-white border border-slate-200 shadow-soft p-4">
          <div class="text-slate-500 text-sm">Visitas de hoje</div>
          <div id="cardVisitasHoje" class="text-2xl font-semibold mt-1">0</div>
          <div class="text-xs text-slate-500 mt-1">Agendadas</div>
        </div>

        <div class="rounded-2xl bg-white border border-slate-200 shadow-soft p-4">
          <div class="text-slate-500 text-sm">Cotações abertas</div>
          <div id="cardCotacoesAbertas" class="text-2xl font-semibold mt-1">0</div>
          <div class="text-xs text-slate-500 mt-1">Em andamento</div>
        </div>
      </section>

      <!-- GRÁFICO -->
      <section class="rounded-2xl bg-white border border-slate-200 shadow-soft p-4">
        <div class="flex items-center justify-between">
          <h3 class="text-brand font-semibold">📊 Produção — últimos 6 meses</h3>
        </div>
        <div class="h-72">
          <canvas id="graficoMeses"></canvas>
        </div>
      </section>

      <!-- TABELA: vencimentos próximos -->
      <section class="rounded-2xl bg-white border border-slate-200 shadow-soft p-4">
        <div class="flex items-center justify-between mb-2">
          <h3 class="text-brand font-semibold">📅 Vencimentos em 30 dias</h3>
          <input id="buscaVenc" type="text" placeholder="Buscar empresa..."
                 class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:ring focus:ring-slate-200" />
        </div>
        <div class="overflow-x-auto">
          <table class="min-w-full text-sm">
            <thead class="text-slate-500 uppercase">
              <tr>
                <th class="text-left p-2">Empresa</th>
                <th class="text-left p-2">Ramo</th>
                <th class="text-left p-2">Prêmio</th>
                <th class="text-left p-2">Vigência</th>
                <th class="text-left p-2">Responsável</th>
              </tr>
            </thead>
            <tbody id="tbodyVenc" class="align-top"></tbody>
          </table>
        </div>
      </section>
    </main>
  </div>

  <!-- JS da página -->
  <script src="js/dashboard-saas.js" defer></script>
</body>
</html>
